### Загрузка фотографий космоса в телеграм с помощью телеграм-бота

Данный проект создан для скачивания фотографий с сайтов NASA и Spacex, с последующей их загрузкой в телеграм с помощью телеграм-бота 

Для работы с программой вам необходимо запустить файл ```main.py```. 

Ниже описаны функции и пример запуска каждого скрипта. 


## main.py

Является главным файлом проекта, который в процессе выполнения задействует каждую функцию проекта.

Вы можете передать в файл ```main.py``` шесть аргументов : 

* ID запуска spacex (по умолчанию - последний запуск);

* Используя ключ -f можно задать частоту отправки фотографий(указать кол-во часов) в телеграм-канал(по умолчанию - 4 часа);

* Используя ключ -s можно задать кол-во фотографий космоса для скачивания(по умолчанию - 45 фото);

* Используя ключ -e можно задать кол-во фотографий Земли для скачивания(по умолчанию - 7 фото);

* Используя ключ -d можно задать дату фотографий Земли для скачивания в формате 
```YYYY-MM-DD```(по умолчанию: 2022-01-01);

* Используя ключ -с необходимо задать айди чата в формате @chat_id.

Для запуска программы с параметрами необходимо выполнить команду: 

```
python main.py ID_ЗАПУСКА -f ЧАСТОТА_ОТПРАВЛЕНИЯ_ФОТО -s КОЛИЧЕСТВО_ФОТО_КОСМОСА -e КОЛИЧЕСТВО_ФОТО_ЗЕМЛИ -d ДАТА_ФОТО_ЗЕМЛИ -c @ID_ЧАТА
```
Пример запуска программы представлен ниже:

![2022-12-21_09-28-24](https://user-images.githubusercontent.com/42433463/208828569-654638e5-502a-486c-97e3-8da5e252a7ce.png)


## download_image.py

Данный скрипт используется для загрузки фотографии по ссылке.

Для запуска программы вам необходимо передать два параметра:

* Ссылка на фото;

* Используя ключ -p необходимо передать путь файлу для скачивания.

Для запуска программы с параметрами необходимо выполнить команду: 

```
python download_image.py CСЫЛКА_НА_ФОТО -p ПУТЬ_ДЛЯ_СКАЧИВАНИЯ
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_10-09-34](https://user-images.githubusercontent.com/42433463/208834216-98c2ac56-faf7-4c74-94d3-a4db55a7abd3.png)


## fetch_spacex_images.py

Данный скрипт используется для загрузки фотографий запуска spacex.

Вы можете передать id запуска, по умолчанию скачаются фотографии последнего запуска

Для запуска программы с параметрами необходимо выполнить команду: 

```
python fetch_spacex_images.py ID_ЗАПУСКА
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_10-11-55](https://user-images.githubusercontent.com/42433463/208834334-c294b0f7-6969-44d2-93c8-8c8b939a20e4.png)


## fetch_nasa_planetary_apod_picture.py

Данный скрипт используется для загрузки фотографий c сайта NASA.

Вы можете указать количество фотографий космоса, по умолчанию скрипт скачает 45 фотографий

Для запуска программы необходимо выполнить команду: 

```
fetch_nasa_planetary_apod_picture.py КОЛИЧЕСТВО_ФОТО_КОСМОСА
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_09-34-15](https://user-images.githubusercontent.com/42433463/208829344-86e13386-af95-4587-9d77-ef2b64518ac4.png)


## fetch_nasa_planetary_apod_picture.py

Данный скрипт используется для загрузки фотографий нашей планеты c сайта NASA.

Вы можете передать скрипту 2 параметра:

* Кол-во фотографий Земли для скачивания(по умолчанию - 7 фото);

* Используя ключ -d можно задать дату фотографий Земли для скачивания в формате 
```YYYY-MM-DD```(по умолчанию: 2022-01-01).

Для запуска программы необходимо выполнить команду: 

```
python fetch_nasa_epic_picture.py КОЛИЧЕСТВО_ФОТО_ЗЕМЛИ -d ДАТА_ФОТО_ЗЕМЛИ
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_09-38-57](https://user-images.githubusercontent.com/42433463/208829885-e3ca20be-46d0-4e0a-a49f-259b0bb2023b.png)


## download_to_telegram.py

Данный скрипт используется для отправления фотографии в телеграм канал.

Вы можете передать скрипту 2 параметра:

* Используя ключ -p вы можете передать путь к файлу для отправления, иначе скрипт выберет любую из фотографий;

* Используя ключ -с необходимо задать айди чата в формате @chat_id.

Для запуска программы с параметрами необходимо выполнить команду: 

```
python download_to_telegram.py -p ПУТЬ ДО ФАЙЛА -c @ID_ЧАТА 
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_09-44-01](https://user-images.githubusercontent.com/42433463/208830535-8dfff010-b2ea-4fe6-8d5f-289a547f496d.png)


## infinity_download_to_telegram.py

Данный скрипт используется для запуска бесконечного цикла отправления фотографий в телеграм.

В случае если все фото из списка будут отправлены программа перемешает их случайным образом и начнет заново.

Вам необходимо передать скрипту 2 параметра: 

* Используя ключ -f вы можете передать частоту к файлу отправления(указать кол-во часов), иначе скрипт установит интервал в 4 часа;

* Используя ключ -с необходимо задать айди чата в формате @chat_id.

Для запуска программы с параметрами необходимо выполнить команду: 

```
python infinity_download_to_telegram.py -f ЧИСЛО_ЧАСОВ_ДЛЯ_ИНТЕРВАЛА -c @ID_ЧАТА 
```
Пример запуска с параметрами представлен ниже:

![2022-12-21_09-48-15](https://user-images.githubusercontent.com/42433463/208831086-857dda12-bfb8-4021-8a26-78cf9a3cb7da.png)


### Как установить

Для корректной работы программы вам необходимо создать файл .env и записать в него ваш API-ключ полученный на сайте [NASA](https://api.nasa.gov/#signUp) в следующем формате: ```NASA_API_KEY=API_ключ_nasa```, а также записать API-ключ вашего телеграм-бота в формате ```TELEGRAM_BOT_API_KEY=API_ключ_бота```

Python3 должен быть уже установлен. 

Также вам необходимо установить соответствующие внешние пакеты. Версии данных пакетов вы можете найти в файле requirements.txt

Используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
